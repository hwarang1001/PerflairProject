ë°•ì°¬í¬
bhnanpdltl53
ìë¦¬ ë¹„ì›€

ê¹€í™”ë‘ â€” 2025-08-06 ì˜¤ì „ 11:07
ë§Œë“¤ì–´ì•¼ë˜ëŠ” í˜ì´ì§€
ë©”ì¸, í—¤ë”, í‘¸í„°,  -> ë‚˜
ë¡œê·¸ì¸, íšŒì›ê°€ì… -> ê¸°í›ˆì´í˜•
ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€
ê²°ì œ í˜ì´ì§€ (ì¹´ì¹´ì˜¤ê²°ì œAPI) -> ë‚˜
ë¸Œëœë“œ ë³„ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸, ìƒí’ˆ ìƒì„¸í˜ì´ì§€(ë¦¬ë·°) -> ë‚˜ 
ê³µì§€ì‚¬í•­ ë¦¬ìŠ¤íŠ¸, ê³µì§€ì‚¬í•­ ìƒì„¸í˜ì´ì§€ -> ê´€ë¦¬ìë§Œ ì‘ì„± ëŒ“ê¸€ X 
ì§ˆì˜ì‘ë‹µ ë¦¬ìŠ¤íŠ¸, ì§ˆì˜ì‘ë‹µ ìƒì„¸í˜ì´ì§€ -> ì‚¬ã…‡ìš©ì ì‘ì„± ê´€ë¦¬ì ëŒ“ê¸€ 
ë§ˆì´í˜ì´ì§€, ì°œëª©ë¡ ë¦¬ìŠ¤íŠ¸
ì°¨ê¸° â€” 2025-08-06 ì˜¤í›„ 12:19
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ê¹€í™”ë‘ â€” 2025-08-06 ì˜¤í›„ 12:24
import "bootstrap/dist/js/bootstrap.bundle.min.js";
import "../App.css";
const Footer = () => {
  return (
    <>
      <footer className="py-5 bg-dark">
í™•ì¥
Footer.jsx
1KB
import "bootstrap/dist/js/bootstrap.bundle.min.js";
import "../App.css";
const Header = () => {
  return (
    <>
      {/* ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” */}
í™•ì¥
Header.jsx
4KB
@charset "UTF-8";
/*!
* Start Bootstrap - Shop Homepage v5.0.6 (https://startbootstrap.com/template/shop-homepage)
* Copyright 2013-2023 Start Bootstrap
* Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-shop-homepage/blob/master/LICENSE)
*/... (187KB ë‚¨ìŒ)
í™•ì¥
App.css
237KB
ë°•ì°¬í¬ â€” 2025-08-06 ì˜¤í›„ 3:09
gpt ìˆ˜ì¤€;
ì´ë¯¸ì§€
ì°¨ê¸° â€” 2025-08-06 ì˜¤í›„ 3:11
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ë°•ì°¬í¬ â€” 2025-08-06 ì˜¤í›„ 4:11
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
part01ê¹ƒí™˜ê²½ì„¤ì •í•˜ê¸°.pdf
2.06 MB
ì°¨ê¸° â€” 2025-08-07 ì˜¤í›„ 12:24
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ì°¨ê¸° â€” 2025-08-07 ì˜¤í›„ 2:15
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ì°¨ê¸° â€” 2025-08-07 ì˜¤í›„ 2:32
ì´ë¯¸ì§€
ì´ë¯¸ì§€
ê¹€í™”ë‘ â€” 2025-08-07 ì˜¤í›„ 4:50
import { useEffect, useState } from "react";
import "../../App.css";
import ProductCarousel from "../../include/ProductCarousel";
import { getOne } from "../../api/productApi";
import { API_SERVER_HOST } from "../../api/productApi";
const initState = {
í™•ì¥
message.txt
8KB
ë°•ì°¬í¬ â€” 2025-08-08 ì˜¤ì „ 9:09
ì´ë¯¸ì§€
ì°¨ê¸° â€” 2025-08-08 ì˜¤ì „ 11:35
/* ì»¨í…Œì´ë„ˆ: í™”ë©´ ì¤‘ì•™ ì •ë ¬ ë° ë°°ê²½ */
.login-container {
  background-color: white;
  flex: 1; /* âœ… ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ì´ ë‚¨ì€ ê³µê°„ ì°¨ì§€ */
  display: flex;
  justify-content: center;
í™•ì¥
message.txt
3KB
/* ì»¨í…Œì´ë„ˆ: í™”ë©´ ì¤‘ì•™ ì •ë ¬ ë° ë°°ê²½ */
.register-container {
  background-color: white;
  flex: 1; /* âœ… ë ˆì´ì•„ì›ƒì—ì„œ ë‚¨ì€ ê³µê°„ë§Œí¼ ì°¨ì§€ */
  display: flex;
  justify-content: center;
í™•ì¥
message.txt
4KB
1.login 2.íšŒì›ê°€ì…
í˜¸ì¤€ â€” 2025-08-11 ì˜¤ì „ 10:32
https://docs.google.com/spreadsheets/d/1mgmJ7yspPRBhrsDC4P5fX09NI2_7QFDDrrU8d3gNtfE/edit?gid=0#gid=0
ë°•ì°¬í¬ â€” 2025-08-12 ì˜¤í›„ 12:03
@Column(nullable = false)
    private boolean delFlag;
ì°¨ê¸° â€” 2025-08-12 ì˜¤í›„ 12:08
import axios from "axios";
import jwtAxios from "../util/jwtUtil";

export const API_SERVER_HOST = "http://localhost:8080/";
const prefix = ${API_SERVER_HOST}/api/notice;

export const getNoticeList = async (pageParam) => {
  const { page, size } = pageParam;
  const res = await axios.get(${prefix}/list, {
    params: { page, size },
  });
  return res.data;
};

export const getNotice = async (id) => {
  const res = await jwtAxios.get(${prefix}/${id});
  return res.data;
};

export const postNotice = async (noticeData) => {
  const res = await jwtAxios.post(${prefix}, noticeData);
  return res.data;
};

export const modifyNotice = async (id, noticeData) => {
  const res = await jwtAxios.put(${prefix}/${id}, noticeData);
  return res.data;
};

export const deleteNotice = async (id) => {
  const res = await jwtAxios.delete(${prefix}/${id});
  return res.data;
};
------------------------------------------------------------
import axios from "axios";
import jwtAxios from "../util/jwtUtil";

export const API_SERVER_HOST = "http://localhost:8080/";
const prefix = ${API_SERVER_HOST}/api/notice;

export const getNoticeList = async (pageParam) => {
  const { page, size } = pageParam;
  const res = await axios.get(${prefix}/list, {
    params: { page, size },
  });
  return res.data;
};

export const getNotice = async (id) => {
  const res = await axios.get(${prefix}/${id});
  return res.data;
};

export const postNotice = async (noticeData) => {
  const res = await jwtAxios.post(${prefix}, noticeData);
  return res.data;
};

export const modifyNotice = async (id, noticeData) => {
  const res = await jwtAxios.put(${prefix}/${id}, noticeData);
  return res.data;
};

export const deleteNotice = async (id) => {
  const res = await jwtAxios.delete(${prefix}/${id});
  return res.data;
};
ë°•ì°¬í¬ â€” 2025-08-12 ì˜¤í›„ 12:11
// ì‚­ì œë˜ì§€ ì•Šì€(delFlag = false) ê³µì§€ì‚¬í•­ ëª©ë¡ì„ í˜ì´ì§• ì²˜ë¦¬í•˜ì—¬ ì¡°íšŒ
    // JPQLì„ ì‚¬ìš©í•˜ì—¬ Notice ì—”í‹°í‹°ë¥¼ ì§ì ‘ ì¡°íšŒí•©ë‹ˆë‹¤.
    @Query("SELECT n FROM Notice n WHERE n.delFlag = false ORDER BY n.noticeId DESC")
    Page<Notice> findAllNotDeleted(Pageable pageable);
ì°¨ê¸° â€” 2025-08-12 ì˜¤í›„ 12:15
noticeApi.jsx:9 
 GET http://localhost:8080/api/notice/list?page=1&size=10 500 (Internal Server Error)

axios.js?v=b670c721:1253 Uncaught (in promise) 
AxiosError {message: 'Request failed with status code 500', name: 'AxiosError', code: 'ERR_BAD_RESPONSE', config: {â€¦}, request: XMLHttpRequest, â€¦}
ê¹€í™”ë‘ â€” 2025-08-12 ì˜¤í›„ 3:37
private final JWTCheckFilter jwtCheckFilter;

    @Bean
    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
        log.info("-------------------- security config ---------------------------------------");

        http.csrf(config -> config.disable())
                .sessionManagement(config -> config.sessionCreationPolicy(SessionCreationPolicy.STATELESS))
                .cors(config -> config.configurationSource(corsConfigurationSource()))
                // ğŸ’¡ formLogin() ì„¤ì •ì„ ìœ ì§€í•˜ê³ , ì„±ê³µ/ì‹¤íŒ¨ í•¸ë“¤ëŸ¬ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
                .formLogin(config -> {
                    config.loginPage("/api/member/login");
                    config.successHandler(new APILoginSuccessHandler());
                }).authorizeHttpRequests(config -> {
                    config.requestMatchers("/swagger-ui/", "/v3/api-docs/", "/api/member/login",
                            "/api/member/signup").permitAll().requestMatchers("/api/member/me").authenticated()
                            .anyRequest().permitAll();
                })
                // JWTCheckFilterë¥¼ UsernamePasswordAuthenticationFilter ì´ì „ì— ì¶”ê°€
                .addFilterBefore(jwtCheckFilter, UsernamePasswordAuthenticationFilter.class);

        return http.build();
    }
package com.kh.security.filter;

import java.io.IOException;
import java.io.PrintWriter;
import java.util.List;
import java.util.Map;
í™•ì¥
message.txt
4KB
ê¹€í™”ë‘ â€” 2025-08-13 ì˜¤í›„ 5:41
ì´ë¯¸ì§€
ì°¨ê¸° â€” 2025-08-14 ì˜¤í›„ 4:24
import React, { useEffect, useState } from "react";
import { useParams, useNavigate } from "react-router-dom";
import { getNotice, deleteNotice, modifyNotice } from "../../api/noticeApi"; // ì‹¤ì œ API í˜¸ì¶œ í•¨ìˆ˜
import { useSelector } from "react-redux";
import "./ReadComponent.css";
í™•ì¥
message.txt
3KB
ê¹€í™”ë‘ â€” 2025-08-14 ì˜¤í›„ 4:48
import "bootstrap/dist/js/bootstrap.bundle.min.js";
import "../App.css";
import { useSelector } from "react-redux";
import useCustomLogin from "../hook/useCustomLogin";
const Header = () => {
  const loginState = useSelector((state) => state.login);
í™•ì¥
message.txt
5KB
ë°•ì°¬í¬ â€” 2025-08-14 ì˜¤í›„ 5:22
package com.kh.domain;

import java.time.LocalDateTime;

import org.hibernate.annotations.CreationTimestamp;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.EnumType;
import jakarta.persistence.Enumerated;
import jakarta.persistence.FetchType;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.Lob;
import jakarta.persistence.ManyToOne;
import jakarta.persistence.Table;
import lombok.Data;

/** QUESTION í…Œì´ë¸” â€“ ìš”êµ¬ëœ ì»¬ëŸ¼ë§Œ ì‚¬ìš© */
@Entity
@Table(name = "tbl_question")
@Data
public class Question {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "QUESTION_ID")
    private Long questionId;

    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "USER_ID", nullable = false)
    private Member userId;

    @Column(name = "TITLE", nullable = false, length = 200)
    private String title;

    @Lob
    @Column(name = "CONTENT", nullable = false)
    private String content;

    @CreationTimestamp
    @Column(name = "CREATED_AT", updatable = false)
    private LocalDateTime createdAt;

    // ğŸ’¡ ENUM íƒ€ì…ì„ ì‚¬ìš©í•˜ë„ë¡ í•„ë“œ ìˆ˜ì •
    @Enumerated(EnumType.STRING) // ğŸ’¡ ë°ì´í„°ë² ì´ìŠ¤ì— ë¬¸ìì—´ë¡œ ì €ì¥
    private QuestionStatus status;

}
package com.kh.domain;

import java.time.LocalDate;

import jakarta.persistence.Column;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.GeneratedValue;
import jakarta.persistence.GenerationType;
import jakarta.persistence.Id;
import jakarta.persistence.JoinColumn;
import jakarta.persistence.ManyToOne;
import jakarta.persistence.PrePersist;
import jakarta.persistence.SequenceGenerator;
import jakarta.persistence.Table;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity
@Table(name = "ANSWER")
@SequenceGenerator(name = "ANSWER_SEQ_GEN", sequenceName = "ANSWER_SEQ", allocationSize = 1)
@Getter
@Builder
@AllArgsConstructor
@NoArgsConstructor
@ToString(exclude = {"questionId", "admin"})
public class Answer {

    @Id
    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = "ANSWER_SEQ_GEN")
    @Column(name = "ANSWER_ID")
    private Long answerId;

    @ManyToOne(fetch = FetchType.LAZY, optional = false)
    @JoinColumn(name = "QUESTION_ID") // PK ì°¸ì¡°ë¼ referencedColumnName ìƒëµ OK
    private Question questionId;

    @ManyToOne(fetch = FetchType.LAZY, optional = false)
    @JoinColumn(name = "ADMIN_USER_ID", referencedColumnName = "USERID") // â˜… ì¡°ì¸ ê¸°ì¤€: TBL_MEMBER.USERID
    private Member admin;

    @Column(name = "CONTENT", nullable = false, length = 4000)
    private String content;

    @Column(name = "CREATED_AT", nullable = false)
    private LocalDate createdAt;

    @Column(name = "UPDATED_AT", nullable = false)
    private LocalDate  updatedAt;



    @PrePersist
    void prePersist() {
        this.createdAt = LocalDate.now();
        this.updatedAt = this.createdAt;
    }

    public void changeContent(String content) {
        this.content = content;
        this.updatedAt = LocalDate.now();
    }

}
ë°•ì°¬í¬ â€” 2025-08-14 ì˜¤í›„ 5:31
@Override
    public void update(Long qid, String userId, QuestionDTO dto) throws NotFoundException {
        Question q = questionRepo.findById(qid).orElseThrow(NotFoundException::new);
        // ì‚¬ìš©ì ID ë¹„êµ
        if (!q.getUserId().getUserId().equals(userId)) {
            throw new ForbiddenException();
        }
        // ì§ˆë¬¸ ìƒíƒœ í™•ì¸
        if (q.getStatus() != QuestionStatus.WAITING) {
            throw new ConflictException("ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤.");
        }
        // ì œëª© ë° ë‚´ìš© ì—…ë°ì´íŠ¸
        q.setTitle(dto.getTitle());
        q.setContent(dto.getContent());
        questionRepo.save(q); // âœ… ë³€ê²½ ì‚¬í•­ì„ ì €ì¥
    }
ë°•ì°¬í¬ â€” 2025-08-14 ì˜¤í›„ 5:47
/** ì‘ì„± */
    @PostMapping("/")
    public ResponseEntity<?> create(@RequestBody QuestionDTO questionDTO,
            @AuthenticationPrincipal MemberDTO memberDTO) {
        questionDTO.setUserId(memberDTO.getUserId());
        Long id = service.create(cur.id(), questionDTO);
        return ResponseEntity.status(HttpStatus.CREATED).body(Map.of("id", id));
    }
ë°•ì°¬í¬ â€” 2025-08-18 ì˜¤ì „ 9:09
<dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-validation</artifactId>
        </dependency>
ê¹€í™”ë‘ â€” ì–´ì œ ì˜¤ì „ 11:23
import { getList } from "../../api/productApi";
import { API_SERVER_HOST } from "../../api/productApi";
import { useEffect, useState } from "react";
import useCustomMove from "../../hook/useCustomMove";

const host = API_SERVER_HOST;
í™•ì¥
message.txt
7KB
import Header from "../include/Header";
import Footer from "../include/Footer";
import "../App.css";
import Carousel from "../include/BannerCarousel";
import banner from "../assets/banner.jpg";
const MainPage = () => {
í™•ì¥
message.txt
9KB
ê¹€í™”ë‘ â€” ì–´ì œ ì˜¤í›„ 12:15
ê¸°íšì„œ => O
ì‚¬ìš©ì ê´€ë¦¬ììš”êµ¬ì‚¬í•­ => O

í…Œì´ë¸” ëª…ì„¸ì„œ => í™”ë‘


ê°œì²´ê´€ê³„ë„ => í•´ì•¼ëŒ
ë…¼ë¦¬ì  êµ¬ì¡°ë„ => í•´ì•¼ëŒ
ë¬¼ë¦¬ì  êµ¬ì¡°ë„ => í•´ì•¼ëŒ
Diagram => í•´ì•¼ëŒ 

ì‚¬ìš©ì, ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ ì§€ê¸ˆê¹Œì§€í•œ í˜ì´ì§€ ìº¡ì²˜ => í˜¸ì¤€ì´í˜• 
ì¼ì •ê´€ë¦¬ => ê¸°í›ˆì´í˜•
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 12:19
ì´ë¯¸ì§€
ì°¨ê¸° â€” ì–´ì œ ì˜¤í›„ 12:50
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
perfume_schedule_wbs_gantt_onepage_v15.pdf
21.10 KB
ê¹€í™”ë‘ â€” ì–´ì œ ì˜¤í›„ 2:21
í™”ë©´, ê¸°ëŠ¥, DB ì„¤ê³„ ->  8ì›”4ì¼ ~ 8ì›” 8ì¼
ë°±ì—”ë“œ êµ¬í˜„ -> ë°±ì—”ë“œ -> 8ì›” 9ì¼ ~ 8ì›” 22ì¼
í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ -> í”„ë¡ íŠ¸ì—”ë“œ -> 8ì›” 9ì¼ ~ 8ì›” 22ì¼
ì—°ë™ í…ŒìŠ¤íŠ¸ -> ë‘˜ë‹¤ 8ì›” 13ì¼ ~ 22ì¼
í†µí•© ê²€ì¦ ë° ì˜¤ë¥˜ ìˆ˜ì • -> 22ì¼ ~ 25ì¼
ìµœì¢… ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ -> 25ì¼ ~ 28ì¼
ì°¨ê¸° â€” ì–´ì œ ì˜¤í›„ 2:30
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
perfume_schedule_wbs_gantt_onepage_v17.pdf
20.28 KB
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 2:30
ì´ë¯¸ì§€
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 2:42
ì´ë¯¸ì§€
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 2:56
ì´ë¯¸ì§€
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 3:11
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: unknown
íŒ€í”Œ.DRAWIO
70.53 KB
í˜¸ì¤€ â€” ì–´ì œ ì˜¤í›„ 3:15
dd
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
ì‚¬ìš©ì,ê´€ë¦¬ìë ˆì´ì•„ì›ƒ.pdf
208.12 KB
ì°¨ê¸° â€” ì–´ì œ ì˜¤í›„ 3:31
// ë‹µë³€ ë“±ë¡/ìˆ˜ì • (ì„œë²„ ì»¨íŠ¸ë¡¤ëŸ¬ ê·œì•½: content í‚¤ ì‚¬ìš©)
  const handleAnswerSubmit = async () => {
    const body = answerText.trim();
    if (!body) {
      alert("ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return;
    }

    setSaving(true);
    try {
      if (qna.answer?.trim()) {
        // ìˆ˜ì •
        if (!qna.answerId) {
          alert(
            "answerIdê°€ ì—†ìŠµë‹ˆë‹¤. ë‹¨ê±´ ì¡°íšŒ ì‘ë‹µì— answerIdë¥¼ í¬í•¨í•´ ì£¼ì„¸ìš”."
          );
        } else {
          await updateAnswer(qna.answerId, { content: body }); // PUT /api/answers/{answerId}
          alert("ë‹µë³€ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.");
        }
      } else {
        // ë“±ë¡
        await createAnswer({ questionId: qnaId, content: body }); // POST /api/answers/
        alert("ë‹µë³€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");
      }

      await fetchQna();
      setIsAnswering(false);
      setAnswerText("");
    } catch (e) {
      console.error(e);
      const msg =
        e?.response?.data?.message 
        e?.response?.data?.error 
        "ë‹µë³€ ë“±ë¡/ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.";
      alert(msg);
    } finally {
      setSaving(false);
    }
  };
------------------------------------------------------------------
@GetMapping("/{id}")
    public ResponseEntity<QuestionDTO> read(@PathVariable Long id) {
        QuestionDTO q = questionService.read(id);

        // ë‹µë³€ì´ ìˆìœ¼ë©´ ë¼ì›Œë„£ê¸°
        answerRepository.findByQuestionId_QuestionId(id)
                .map(a -> AnswerDTO.builder()
                        .answerId(a.getAnswerId())
                        .questionId(a.getQuestionId().getQuestionId())
                        .userId(a.getAdmin().getUserId())
                        .adminName(a.getAdmin().getName())
                        .content(a.getContent())
                        .createdAt(a.getCreatedAt())
                        .updatedAt(a.getUpdatedAt())
                        .build()).ifPresent(q::setAnswer);

        return ResponseEntity.ok(q);
    }
í˜¸ì¤€ â€” ì–´ì œ ì˜¤í›„ 3:37
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
Presentation 1.pdf
199.50 KB
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
ì‚¬ìš©ì,ê´€ë¦¬ì ë ˆì´ì•„ì›ƒ.pdf
199.57 KB
ë°•ì°¬í¬ â€” ì–´ì œ ì˜¤í›„ 3:41
List<AnswerDTO> answers = answerRepository.findByQuestionId(id)
        .stream()
        .map(a -> AnswerDTO.builder()
            // ë‹µë³€ DTO í•„ë“œ ì„¤ì •
            .answerId(a.getAnswerId())
            .content(a.getContent())
            // ...
            .build())
        .collect(Collectors.toList());

    // QuestionDTOì— ë‹µë³€ ëª©ë¡ ì„¤ì •
    q.setAnswers(answers);
ê¹€í™”ë‘ â€” ì–´ì œ ì˜¤í›„ 4:47
ìµœì¢…ë³¸ ì…ë‹ˆë‹¹
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: archive
1íŒ€_ê¹€í™”ë‘.zip
407.30 KB
ê¹€í™”ë‘ â€” ì˜¤ì „ 10:14
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: acrobat
í…Œì´ë¸” ëª…ì„¸ì„œ.pdf
256.27 KB
ê¹€í™”ë‘ â€” ì˜¤ì „ 10:29
ì²¨ë¶€ íŒŒì¼ í˜•ì‹: archive
1íŒ€_ê¹€í™”ë‘.zip
528.76 KB
ê¹€í™”ë‘ â€” ì˜¤í›„ 6:44
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
<modelVersion>4.0.0</modelVersion>
<parent>
í™•ì¥
message.txt
6KB
ì°¨ê¸° â€” ì˜¤í›„ 6:50
package com.kh.domain;

import java.util.ArrayList;
import java.util.List;

import jakarta.persistence.ElementCollection;
import jakarta.persistence.Entity;
import jakarta.persistence.FetchType;
import jakarta.persistence.Id;
import jakarta.persistence.SequenceGenerator;
import jakarta.persistence.Table;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.ToString;

@Entity
@Table(name = "tbl_member")
@Getter
@Builder
@AllArgsConstructor
@NoArgsConstructor
@ToString(exclude = "memberRoleList")
public class Member {
    @Id
    private String userId;
    private String pw;
    private String name;
    private String address;
    private String phoneNum;
    private boolean social;

    @ElementCollection(fetch = FetchType.LAZY)
    @Builder.Default
    private List<MemberRole> memberRoleList = new ArrayList<>();

    public void addRole(MemberRole memberRole) {
        memberRoleList.add(memberRole);
    }

    public void clearRole() {
        memberRoleList.clear();
    }

    public void changePw(String pw) {
        this.pw = pw;
    }

    public void changeSocial(boolean social) {
        this.social = social;
    }

    public void changeAddress(String address) {
        this.address = address;
    }

    public void changePhoneNum(String phoneNum) {
        this.phoneNum = phoneNum;
    }
}
ê¹€í™”ë‘ â€” ì˜¤í›„ 7:03
package com.kh.controller;

import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

import org.springframework.core.io.Resource;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestPart;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import com.kh.dto.PageRequestDTO;
import com.kh.dto.PageResponseDTO;
import com.kh.dto.ProductDTO;
import com.kh.service.ProductService;
import com.kh.util.CustomFileUtil;

import lombok.RequiredArgsConstructor;
import lombok.extern.log4j.Log4j2;

@RestController
@RequiredArgsConstructor
@Log4j2
@RequestMapping("/api/product")
public class ProductController {

private final ProductService productService;
private final CustomFileUtil fileUtil;

@PostMapping("/")
// multipart/form-data ìš”ì²­ì—ì„œ JSON(ë˜ëŠ” ë‹¤ë¥¸ ë¯¸ë””ì–´ íƒ€ì…) íŒŒíŠ¸ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ë°›ìŒ
public Map<String, Long> register(@RequestPart("productDTO") ProductDTO productDTO,
@RequestPart("files") List<MultipartFile> files) {

log.info("Received productDTO: {}", productDTO);
log.info("Received files: {}", files);

// íŒŒì¼ ì €ì¥
List<String> uploadFileNames = fileUtil.saveFiles(files);
productDTO.setUploadFileNames(uploadFileNames);

// ìƒí’ˆ ë“±ë¡
Long pno = productService.register(productDTO);

return Map.of("result", pno);
}

@GetMapping("/view/{fileName}")
public ResponseEntity<Resource> viewFileGET(@PathVariable String fileName) {
return fileUtil.getFile(fileName);
}

//@PreAuthorize("hasRole('ROLE_ADMIN')") 
@GetMapping("/list")
public PageResponseDTO<ProductDTO> list(PageRequestDTO pageRequestDTO) {
log.info("list............." + pageRequestDTO);
return productService.list(pageRequestDTO);
}

@GetMapping("/{pno}")
public ProductDTO read(@PathVariable(name = "pno") Long pno) {
return productService.get(pno);
}

@PutMapping("/{pno}")
public Map<String, String> modify(@PathVariable Long pno, @RequestPart("productDTO") ProductDTO productDTO,
@RequestPart(value = "files", required = false) List<MultipartFile> files) {
productDTO.setPno(pno);
ProductDTO oldProductDTO = productService.get(pno);
List<String> oldFileNames = oldProductDTO.getUploadFileNames(); // ê¸°ì¡´ íŒŒì¼
List<String> currentUploadFileNames = fileUtil.saveFiles(files); // ìƒˆ ì—…ë¡œë“œëœ íŒŒì¼ë“¤
List<String> uploadedFileNames = productDTO.getUploadFileNames(); // ìœ ì§€ëœ íŒŒì¼ë“¤ (í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì „ë‹¬ë¨)
if (currentUploadFileNames != null && !currentUploadFileNames.isEmpty()) {
uploadedFileNames.addAll(currentUploadFileNames); // ìœ ì§€ + ì‹ ê·œ ì—…ë¡œë“œëœ íŒŒì¼ í•©ì¹˜ê¸°
}
productDTO.setUploadFileNames(uploadedFileNames); // ìµœì¢… ì €ì¥í•  íŒŒì¼ ëª©ë¡ìœ¼ë¡œ ì„¤ì •
// ì‹¤ì œ DB ìˆ˜ì •
productService.modify(productDTO);
// ì‚­ì œí•  íŒŒì¼ ì‹ë³„
List<String> removeFiles = oldFileNames.stream().filter(name -> !uploadedFileNames.contains(name)).toList();
fileUtil.deleteFiles(removeFiles); // ì‚­ì œ

return Map.of("RESULT", "SUCCESS");
}

@DeleteMapping("/{pno}")
public Map<String, String> remove(@PathVariable("pno") Long pno) {
// ì‚­ì œí•´ì•¼ í•  íŒŒì¼ë“¤ ì•Œì•„ë‚´ê¸°
List<String> oldFileNames = productService.get(pno).getUploadFileNames();
productService.remove(pno);
fileUtil.deleteFiles(oldFileNames);
return Map.of("RESULT", "SUCCESS");
}
... (1ì¤„ ë‚¨ìŒ)
ì ‘ê¸°
message.txt
4KB
ï»¿
package com.kh.controller;

import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

import org.springframework.core.io.Resource;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestPart;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import com.kh.dto.PageRequestDTO;
import com.kh.dto.PageResponseDTO;
import com.kh.dto.ProductDTO;
import com.kh.service.ProductService;
import com.kh.util.CustomFileUtil;

import lombok.RequiredArgsConstructor;
import lombok.extern.log4j.Log4j2;

@RestController
@RequiredArgsConstructor
@Log4j2
@RequestMapping("/api/product")
public class ProductController {

	private final ProductService productService;
	private final CustomFileUtil fileUtil;

	@PostMapping("/")
	// multipart/form-data ìš”ì²­ì—ì„œ JSON(ë˜ëŠ” ë‹¤ë¥¸ ë¯¸ë””ì–´ íƒ€ì…) íŒŒíŠ¸ë¥¼ ê°ì²´ë¡œ ë³€í™˜í•´ì„œ ë°›ìŒ
	public Map<String, Long> register(@RequestPart("productDTO") ProductDTO productDTO,
			@RequestPart("files") List<MultipartFile> files) {

		log.info("Received productDTO: {}", productDTO);
		log.info("Received files: {}", files);

		// íŒŒì¼ ì €ì¥
		List<String> uploadFileNames = fileUtil.saveFiles(files);
		productDTO.setUploadFileNames(uploadFileNames);

		// ìƒí’ˆ ë“±ë¡
		Long pno = productService.register(productDTO);

		return Map.of("result", pno);
	}

	@GetMapping("/view/{fileName}")
	public ResponseEntity<Resource> viewFileGET(@PathVariable String fileName) {
		return fileUtil.getFile(fileName);
	}

//	@PreAuthorize("hasRole('ROLE_ADMIN')") 
	@GetMapping("/list")
	public PageResponseDTO<ProductDTO> list(PageRequestDTO pageRequestDTO) {
		log.info("list............." + pageRequestDTO);
		return productService.list(pageRequestDTO);
	}

	@GetMapping("/{pno}")
	public ProductDTO read(@PathVariable(name = "pno") Long pno) {
		return productService.get(pno);
	}

	@PutMapping("/{pno}")
	public Map<String, String> modify(@PathVariable Long pno, @RequestPart("productDTO") ProductDTO productDTO,
			@RequestPart(value = "files", required = false) List<MultipartFile> files) {
		productDTO.setPno(pno);
		ProductDTO oldProductDTO = productService.get(pno);
		List<String> oldFileNames = oldProductDTO.getUploadFileNames(); // ê¸°ì¡´ íŒŒì¼
		List<String> currentUploadFileNames = fileUtil.saveFiles(files); // ìƒˆ ì—…ë¡œë“œëœ íŒŒì¼ë“¤
		List<String> uploadedFileNames = productDTO.getUploadFileNames(); // ìœ ì§€ëœ íŒŒì¼ë“¤ (í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì „ë‹¬ë¨)
		if (currentUploadFileNames != null && !currentUploadFileNames.isEmpty()) {
			uploadedFileNames.addAll(currentUploadFileNames); // ìœ ì§€ + ì‹ ê·œ ì—…ë¡œë“œëœ íŒŒì¼ í•©ì¹˜ê¸°
		}
		productDTO.setUploadFileNames(uploadedFileNames); // ìµœì¢… ì €ì¥í•  íŒŒì¼ ëª©ë¡ìœ¼ë¡œ ì„¤ì •
		// ì‹¤ì œ DB ìˆ˜ì •
		productService.modify(productDTO);
		// ì‚­ì œí•  íŒŒì¼ ì‹ë³„
		List<String> removeFiles = oldFileNames.stream().filter(name -> !uploadedFileNames.contains(name)).toList();
		fileUtil.deleteFiles(removeFiles); // ì‚­ì œ

		return Map.of("RESULT", "SUCCESS");
	}

	@DeleteMapping("/{pno}")
	public Map<String, String> remove(@PathVariable("pno") Long pno) {
		// ì‚­ì œí•´ì•¼ í•  íŒŒì¼ë“¤ ì•Œì•„ë‚´ê¸°
		List<String> oldFileNames = productService.get(pno).getUploadFileNames();
		productService.remove(pno);
		fileUtil.deleteFiles(oldFileNames);
		return Map.of("RESULT", "SUCCESS");
	}
}